federal_tax_brackets = {
    "single": [
        (0, 11000, 0.10),
        (11001, 44725, 0.12),
        (44726, 95375, 0.22),
        (95376, 182100, 0.24),
        (182101, 231250, 0.32),
        (231251, 578125, 0.35),
        (578126, float("inf"), 0.37),
    ],
    "married": [
        (0, 22000, 0.10),
        (22001, 89450, 0.12),
        (89451, 190750, 0.22),
        (190751, 364200, 0.24),
        (364201, 462500, 0.32),
        (462501, 693750, 0.35),
        (693751, float("inf"), 0.37),
    ]
}

# These are flat estimated average state tax rates from actual 2025 data
full_state_tax_rates = {
    "AL": {"single_rate": 0.05, "married_rate": 0.05},
    "AK": {"single_rate": 0.00, "married_rate": 0.00},
    "AZ": {"single_rate": 0.025, "married_rate": 0.025},
    "AR": {"single_rate": 0.049, "married_rate": 0.049},
    "CA": {"single_rate": 0.093, "married_rate": 0.093},
    "CO": {"single_rate": 0.044, "married_rate": 0.044},
    "CT": {"single_rate": 0.03, "married_rate": 0.05},
    "DE": {"single_rate": 0.0555, "married_rate": 0.0555},
    "FL": {"single_rate": 0.00, "married_rate": 0.00},
    "GA": {"single_rate": 0.0575, "married_rate": 0.0575},
    "HI": {"single_rate": 0.0825, "married_rate": 0.0825},
    "ID": {"single_rate": 0.058, "married_rate": 0.058},
    "IL": {"single_rate": 0.0495, "married_rate": 0.0495},
    "IN": {"single_rate": 0.0323, "married_rate": 0.0323},
    "IA": {"single_rate": 0.06, "married_rate": 0.06},
    "KS": {"single_rate": 0.057, "married_rate": 0.057},
    "KY": {"single_rate": 0.045, "married_rate": 0.045},
    "LA": {"single_rate": 0.045, "married_rate": 0.045},
    "ME": {"single_rate": 0.0715, "married_rate": 0.0715},
    "MD": {"single_rate": 0.0475, "married_rate": 0.0475},
    "MA": {"single_rate": 0.05, "married_rate": 0.05},
    "MI": {"single_rate": 0.0425, "married_rate": 0.0425},
    "MN": {"single_rate": 0.0535, "married_rate": 0.068},
    "MS": {"single_rate": 0.05, "married_rate": 0.05},
    "MO": {"single_rate": 0.045, "married_rate": 0.045},
    "MT": {"single_rate": 0.0675, "married_rate": 0.0675},
    "NE": {"single_rate": 0.0664, "married_rate": 0.0664},
    "NV": {"single_rate": 0.00, "married_rate": 0.00},
    "NH": {"single_rate": 0.00, "married_rate": 0.00},
    "NJ": {"single_rate": 0.059, "married_rate": 0.059},
    "NM": {"single_rate": 0.049, "married_rate": 0.049},
    "NY": {"single_rate": 0.062, "married_rate": 0.062},
    "NC": {"single_rate": 0.0475, "married_rate": 0.0475},
    "ND": {"single_rate": 0.021, "married_rate": 0.021},
    "OH": {"single_rate": 0.029, "married_rate": 0.029},
    "OK": {"single_rate": 0.0475, "married_rate": 0.0475},
    "OR": {"single_rate": 0.0875, "married_rate": 0.0875},
    "PA": {"single_rate": 0.0307, "married_rate": 0.0307},
    "RI": {"single_rate": 0.051, "married_rate": 0.051},
    "SC": {"single_rate": 0.0575, "married_rate": 0.0575},
    "SD": {"single_rate": 0.00, "married_rate": 0.00},
    "TN": {"single_rate": 0.00, "married_rate": 0.00},
    "TX": {"single_rate": 0.00, "married_rate": 0.00},
    "UT": {"single_rate": 0.0485, "married_rate": 0.0485},
    "VT": {"single_rate": 0.065, "married_rate": 0.065},
    "VA": {"single_rate": 0.0575, "married_rate": 0.0575},
    "WA": {"single_rate": 0.00, "married_rate": 0.00},
    "WV": {"single_rate": 0.05, "married_rate": 0.05},
    "WI": {"single_rate": 0.045, "married_rate": 0.045},
    "WY": {"single_rate": 0.00, "married_rate": 0.00},
    "DC": {"single_rate": 0.06, "married_rate": 0.06},
}